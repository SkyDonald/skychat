(this.webpackJsonpskychat=this.webpackJsonpskychat||[]).push([[0],{230:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),o=s(51),i=s.n(o),c=(s(57),s(37)),r=s(38),l=s(40),u=s(39),h=s(36),m=s(3),b=s(24),g=(s(190),s(52)),d=s(55),j=s(87),O=s.n(j),p=s(15),v=s.n(p),f=s(1),x=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={socket:null,messages:[],inputRef:Object(n.createRef)(),invalidUsername:!1,isTyping:!1,members:[],roomName:"unknown",admin:""},e.sendMessage=function(t){t.preventDefault(),e.state.socket.emit("message",e.state.inputRef.current.input.value),e.state.inputRef.current.input.value=""},e.recordVoiceMessage=function(t){if(t.preventDefault(),!e.state.isHovering)return e.sendMessage(t);navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),alert("Doesn't work yet :(")},e.sendTyping=function(t){if(""===t.target.value)return e.state.socket.emit("typing",!1),void e.setState({isTyping:!1});e.state.socket.emit("typing",!0),e.setState({isTyping:!0})},e.onMouseHover=function(t){e.setState({isHovering:t})},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=O()("wss://sniper.skydonald.com:8080",{transports:["websocket"],autoConnect:!1,secure:!0}).on("connect",(function(){t.emit("login",e.props.username)}));this.setState({socket:t}),t.open(),t.on("message",(function(t,s){var n=e.state.messages.slice();n.push({author:s,message:t,date:new Date}),e.setState({messages:n});var a=document.querySelector(".content");a.scrollTop=a.scrollHeight})),t.on("user join",(function(t){var s=e.state.messages.slice();s.push({author:"SkyChat",message:"".concat(t," joined the room"),date:new Date});var n=e.state.members.slice();n.push(t),e.setState({messages:s,members:n});var a=document.querySelector(".content");a.scrollTop=a.scrollHeight})),t.on("user leave",(function(t){var s=e.state.messages.slice();s.push({author:"SkyChat",message:"".concat(t," left the room"),date:new Date});var n=e.state.members.slice();n.splice(n.indexOf(t),1),e.setState({messages:s,members:n});var a=document.querySelector(".content");a.scrollTop=a.scrollHeight})),t.on("typing",(function(t,s){s?(e.setState({isTyping:!0}),document.querySelector(".typing").innerHTML="".concat(t," is typing...")):e.setState({isTyping:!1})})),t.on("room info",(function(t,s,n){e.setState({roomName:t,admin:s,members:n})})),t.on("room reset",(function(){e.setState({messages:[],roomName:"unknown",admin:"",members:[]})})),t.on("ban",(function(e){alert("You got banned from "+e)})),t.on("kick",(function(e){alert("You got kicked from "+e)})),t.on("user kick",(function(t){var s=e.state.messages.slice();s.push({author:"SkyChat",message:"".concat(t," got kicked"),date:new Date});var n=e.state.members.slice();n.splice(n.indexOf(t),1),e.setState({messages:s,members:n});var a=document.querySelector(".content");a.scrollTop=a.scrollHeight})),t.on("user ban",(function(t){var s=e.state.messages.slice();s.push({author:"SkyChat",message:"".concat(t," got banned"),date:new Date});var n=e.state.members.slice();n.splice(n.indexOf(t),1),e.setState({messages:s,members:n});var a=document.querySelector(".content");a.scrollTop=a.scrollHeight})),t.on("invalid username",(function(){e.setState({invalidUsername:!0}),alert("Invalid username (already taken)")}))}},{key:"componentWillUnmount",value:function(){this.state.socket&&this.state.socket.close(),this.setState({messages:[],socket:null,inputRef:null})}},{key:"render",value:function(){var e=this;return this.props.loggedIn&&this.props.username?this.state.invalidUsername?Object(f.jsx)(m.a,{to:"/skychat/"}):Object(f.jsxs)("div",{className:"chats-page",children:[Object(f.jsxs)("div",{className:"nav-bar",children:[Object(f.jsx)("div",{className:"logo-tab",children:"SkyChat"}),Object(f.jsx)("div",{onClick:this.props.logOut,className:"logout-tab",children:"Logout"})]}),Object(f.jsxs)("div",{style:{width:"20%",float:"left"},children:[Object(f.jsx)(b.SideBar,{center:Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{style:{color:"white",marginBottom:"1rem"},children:["Current Room: ",this.state.roomName]}),Object(f.jsx)(b.Button,{text:"Create a new room",onClick:function(){return e.state.socket.emit("create room",v()("{shape} {city_states}"))}})]}),bottom:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(f.jsx)("input",{type:"text",id:"join-room"}),Object(f.jsx)("button",{className:"join-room",onClick:function(){return e.state.socket.emit("join room",document.querySelector("#join-room").value)},children:"Join Room"})]}),type:"light"}),Object(f.jsxs)("h3",{style:{marginLeft:"1rem"},children:["Online users (",this.state.members.length,"):"]}),Object(f.jsx)("ul",{style:{marginLeft:"1rem"},children:this.state.members.map((function(t){return Object(f.jsxs)("li",{children:[t,t===e.state.admin?" - Admin":"",e.props.username===e.state.admin&&t!==e.state.admin?Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){return e.state.socket.emit("ban",t)},children:"ban"}),Object(f.jsx)("button",{onClick:function(){return e.state.socket.emit("kick",t)},children:"kick"})]}):""]},v()())}))})]}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"content",children:this.state.messages.map((function(e){return Object(f.jsx)(b.ChatItem,{avatar:"data:image/png;base64,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",alt:e.author,title:e.author,subtitle:e.message,date:e.date,unread:0},v()())}))})}),Object(f.jsxs)("div",{className:"form-input-1",children:[Object(f.jsx)("span",{className:"typing",style:{display:this.state.isTyping?"block":"none"},children:"SkyChat is typing..."}),Object(f.jsx)("form",{children:Object(f.jsx)(b.Input,{placeholder:"Type your message here...",multiline:!1,inputStyle:{backgroundColor:"#282C34",marginTop:this.state.isTyping?0:21},ref:this.state.inputRef,onChange:this.sendTyping,rightButtons:Object(f.jsx)("div",{className:"rce-input-buttons",style:{marginTop:this.state.isTyping?0:21},children:Object(f.jsxs)("button",{className:"rce-button",style:{color:"white",backgroundColor:"#1D53AA"},onClick:this.sendMessage,children:[Object(f.jsx)(g.a,{icon:d.b,style:{marginRight:"3px"}})," Send"]})}),leftButtons:Object(f.jsx)("div",{className:"rce-input-buttons",style:{marginTop:this.state.isTyping?0:21},children:Object(f.jsxs)("button",{className:"rce-button",style:{color:"white",backgroundColor:"#1D53AA"},onClick:this.recordVoiceMessage,onMouseEnter:function(){return e.onMouseHover(!0)},onMouseLeave:function(){return e.onMouseHover(!1)},children:[Object(f.jsx)(g.a,{icon:d.a,style:{marginRight:"3px"}})," Record a voice message"]})})})})]})]}):Object(f.jsx)(m.a,{to:"/skychat/"})}}]),s}(n.Component),y=s(56);function k(e){var t=e.logIn,s=Object(n.useState)(Object(p.generate)("{character} {english}")),a=Object(y.a)(s,2),o=a[0],i=a[1],c=Object(n.useState)(!1),r=Object(y.a)(c,2),l=r[0],u=r[1];return l?Object(f.jsx)(m.a,{to:"/skychat/home"}):Object(f.jsx)("div",{id:"login-page",children:Object(f.jsxs)("div",{id:"login-card",children:[Object(f.jsx)("h2",{children:"Welcome To SkyChat"}),Object(f.jsx)("input",{type:"text",className:"form__field",placeholder:"Username",name:"name",id:"name",onChange:function(e){return i(e.target.value)},value:o,required:!0}),Object(f.jsx)("div",{className:"login-button",onClick:function(){(null===o||void 0===o?void 0:o.length)||i(Object(p.generate)("{character} {english}")),t(o),u(!0)},children:"Login"})]})})}var A=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",loggedIn:!1},e.logIn=function(t){e.setState({username:t,loggedIn:!0})},e.logOut=function(){e.setState({username:"",loggedIn:!1})},e}return Object(r.a)(s,[{key:"render",value:function(){return Object(f.jsx)(h.a,{children:Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/skychat/home",children:Object(f.jsx)(x,{logOut:this.logOut,username:this.state.username,loggedIn:this.state.loggedIn})}),Object(f.jsx)(m.b,{path:"/home",children:Object(f.jsx)(x,{logOut:this.logOut,username:this.state.username,loggedIn:this.state.loggedIn})}),Object(f.jsx)(m.b,{path:"/skychat",children:Object(f.jsx)(k,{logIn:this.logIn})}),Object(f.jsx)(m.b,{path:"/",children:Object(f.jsx)(k,{logIn:this.logIn})})]})})}}]),s}(n.Component),S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,231)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),o(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(A,{})}),document.getElementById("root")),S()},57:function(e,t,s){}},[[230,1,2]]]);
//# sourceMappingURL=main.1ca05876.chunk.js.map